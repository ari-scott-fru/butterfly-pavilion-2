<!--
  Testimonials Block
  WordPress: ACF Block - acf/testimonials

  ACF Fields:
  - testimonials_headline (text) - optional
  - testimonials_button (link) - optional
  - testimonials_images (gallery) - array of images for marquee

  Testimonials Source: Custom Post Type 'testimonial'
  - Post content or ACF field for quote
  - ACF fields: testimonial_author_name (text), testimonial_author_location (text)

  WordPress PHP Example:
  <?php
  $testimonials = get_posts(['post_type' => 'testimonial', 'posts_per_page' => -1]);
  foreach ($testimonials as $index => $testimonial) :
  ?>
    <div class="testimonials__card" data-testimonial="<?php echo $index; ?>">
      <div class="testimonials__card-content">
        <blockquote class="testimonials__quote">
          <h5>"<?php echo get_field('testimonial_quote', $testimonial->ID); ?>"</h5>
        </blockquote>
        <div class="testimonials__author">
          <span class="testimonials__author-name"><?php echo get_field('testimonial_author_name', $testimonial->ID); ?></span>
          <span class="testimonials__author-role"><?php echo get_field('testimonial_author_location', $testimonial->ID); ?></span>
        </div>
      </div>
    </div>
  <?php endforeach; ?>

  Usage:
  - Include testimonial components via testimonials yield
  - Pass raw img tags via images yield - JavaScript will wrap and duplicate them
  - Use testimonial component for each testimonial card

  Class variants:
  - section: Adds section padding
  - bg-light: Light background
  - bg-gradient-primary-tertiary: Gradient background
-->
<section class="testimonials <yield name="class"></yield>" style="<yield name="style"></yield>">
  <!-- Optional Header -->
  <yield name="header">
    <div class="testimonials__header container">
      <div class="testimonials__header-content">
        <h2 class="testimonials__headline h2">
          <yield name="headline">What Our Visitors Say</yield>
        </h2>
      </div>
      <div class="testimonials__header-action">
        <yield name="button">
          <include src="components/button/button.html">
            <yield name="text">Read All Reviews</yield>
            <yield name="url">#</yield>
            <yield name="class">btn--outline</yield>
          </include>
        </yield>
      </div>
    </div>
  </yield>

  <!-- Image Marquee -->
  <div class="testimonials__marquee" data-animate-marquee-stagger data-testimonials-marquee>
    <div class="testimonials__marquee-track">
      <!-- Images will be wrapped and duplicated by JavaScript -->
      <yield name="images">
        <!-- Simple img tags passed in from page -->
      </yield>
    </div>
  </div>

  <!-- Testimonial Cards -->
  <div class="container">
    <div class="testimonials__cards-wrapper">
      <div class="testimonials__cards">
        <div class="testimonials__card-wrapper">
          <!-- WordPress: Loop through 'testimonial' CPT and use testimonial component -->
          <yield name="testimonials">
            <!-- Testimonial components go here -->
          </yield>
        </div>

        <!-- Pagination -->
        <div class="testimonials__pagination">
          <button class="testimonials__nav testimonials__nav--prev" aria-label="Previous testimonial">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="15 18 9 12 15 6"></polyline>
            </svg>
          </button>
          <div class="testimonials__dots">
            <!-- Dots generated by JS -->
          </div>
          <button class="testimonials__nav testimonials__nav--next" aria-label="Next testimonial">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <polyline points="9 18 15 12 9 6"></polyline>
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
</section>
